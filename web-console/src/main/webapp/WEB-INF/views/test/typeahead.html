<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"></meta>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"></meta>
    <title>typeahead.js – examples</title>
    <meta name="viewport" content="width=device-width, initial-scale=1"></meta>

    <link href="/resources/bootstrap/css/bootstrap.css" rel="stylesheet" media="screen"/>
    <link href="/resources/css/liquid.css" rel="stylesheet" media="screen"/>
</head>

<body>
<div class="container">
    <h1>Customer</h1>

    <form>
        <div class="form-group">
            <label for="exampleInputEmail1">Email address</label>
            <input type="email" class="form-control" id="exampleInputEmail1" placeholder="Enter email" />
        </div>
        
        <div class="row">
            <div class="col-lg-6">
                <label for="exampleInputEmail1">Email address</label>
                <input type="email" class="form-control" id="exampleInputEmail1" placeholder="Enter email" />
            </div>
            
            <div class="col-lg-6">
                <label for="exampleInputEmail1">Email address</label>
                <input type="email" class="form-control input-sm" id="exampleInputEmail1" placeholder="Enter email" />
            </div>
        </div><!-- row -->
    
        <input type="hidden" id="cId"/>
        
        <div class="row">
            <div class="col-lg-6">
                <label>Customer ID</label>
                <input class="form-control input-sm" id="customerName0" type="text" placeholder="customer name"/>
            </div>
            
            <div class="col-lg-6">
                <label>Customer ID</label>
                <input class="form-control input-sm" id="customerName1" type="text" placeholder="customer name"/>
            </div>            
        </div><!-- row -->
    </form>
</div>

<script src="/resources/jquery/jquery.js"></script>
<script src="/resources/bootstrap/js/bootstrap.js"></script>
<script src="/resources/typeahead/typeahead.bundle.js"></script>
<script src="/resources/handlebars/handlebars.js"></script>
<script>
$(document).ready(function() {

var customer = new Bloodhound({
  datumTokenizer: Bloodhound.tokenizers.obj.whitespace('name'),
  queryTokenizer: Bloodhound.tokenizers.whitespace,  
  limit: 10,
  remote: '/api/customer?name=%QUERY'
});

customer.initialize();

$('#customerName0').typeahead(null, {
  name: 'customer',
  displayKey: 'name',
  source: customer.ttAdapter(),
  templates: {
    suggestion: Handlebars.compile('<p><strong>{{name}}</strong> – {{code}}</p>')
  }  
}).on('typeahead:selected', function (obj, datum) {
    $('#cId').val(datum.id);
});
$(".tt-hint").addClass("form-control");
/*
$('#customerName0').typeahead(
  {
    name: 'best-picture-winners',
    valueKey: 'name',
    limit: 10,
    remote: '/api/customer?name=%QUERY',
    template: '<p><strong>{{name}}</strong> – {{code}}</p>',
    engine: Hogan
  }).on('typeahead:selected', function (obj, datum) {
    console.log("obj");
    console.log(obj);
    console.log('datum');
    console.log(datum);
    console.log(datum.name);
    console.log(datum.id);
    $('#cId').val(datum.id);
    console.log("customer id " + $('#cId').val());    
});

$('#customerName1').typeahead(
  {
    name: 'best-picture-winners',
    valueKey: 'name',
    limit: 10,
    remote: '/api/customer?name=%QUERY',
    template: '<p><strong>{{name}}</strong> – {{code}}</p>',
    engine: Hogan
  }).on('typeahead:selected', function (obj, datum) {
    $('#cId').val(datum.id);
});
*/
});    

</script>
</body>
</html>

