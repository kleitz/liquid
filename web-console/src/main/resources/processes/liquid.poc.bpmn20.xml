<?xml version="1.0" encoding="UTF-8" ?>

<definitions id="definitions"
             targetNamespace="http://activiti.org/bpmn20"
             xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL"
             xmlns:activiti="http://activiti.org/bpmn">

    <process id="liquidPoc" name="Liquid POC">

        <startEvent id="placeOrder" activiti:initiator="employeeName">
            <extensionElements>
                <activiti:formProperty id="customer" name="Customer" type="string" required="true"/>
            </extensionElements>
        </startEvent>
        <sequenceFlow id="flow1" sourceRef="placeOrder" targetRef="planRoute"/>

        <userTask id="planRoute" name="路线规划">
            <documentation>
                ${employeeName}已经下订单。
            </documentation>
            <extensionElements>
                <activiti:formProperty id="route" name="Route" type="string" required="true"/>
            </extensionElements>
            <potentialOwner>
                <resourceAssignmentExpression>
                    <formalExpression>ROLE_MARKETING</formalExpression>
                </resourceAssignmentExpression>
            </potentialOwner>
        </userTask>
        <sequenceFlow id="flow2" sourceRef="planRoute" targetRef="planLoading"/>

        <userTask id="planLoading" name="制定装载方案">
            <documentation>
                ${employeeName}已经制定运输路线方案。您需要制定装载方案。
            </documentation>
            <potentialOwner>
                <resourceAssignmentExpression>
                    <formalExpression>ROLE_OPERATING</formalExpression>
                </resourceAssignmentExpression>
            </potentialOwner>
        </userTask>
        <sequenceFlow id="flow3" sourceRef="planLoading" targetRef="allocateContainers"/>

        <userTask id="allocateContainers" name="分配集装箱">
            <documentation>
                ${employeeName}已经制定制定装载方案。您需要分配集装箱。
            </documentation>
            <potentialOwner>
                <resourceAssignmentExpression>
                    <formalExpression>ROLE_CONTAINER</formalExpression>
                </resourceAssignmentExpression>
            </potentialOwner>
        </userTask>
        <sequenceFlow id="flow4" sourceRef="allocateContainers" targetRef="theEnd1"/>

        <endEvent id="theEnd1"/>

    </process>

</definitions>